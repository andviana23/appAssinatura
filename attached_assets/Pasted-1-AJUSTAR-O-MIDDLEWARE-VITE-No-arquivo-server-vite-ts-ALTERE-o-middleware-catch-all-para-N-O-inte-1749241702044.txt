1. AJUSTAR O MIDDLEWARE VITE

No arquivo server/vite.ts, ALTERE o middleware catch-all para NÃO interceptar requests para arquivos .js, .ts, .tsx, .css, .map e outros assets (ex: /assets/, /@vite/).

Deixe o middleware servir HTML apenas para rotas de página.

Exemplo de solução (ajuste conforme a estrutura):

js
Copiar
Editar
app.use("*", async (req, res, next) => {
  const url = req.originalUrl;

  // Se for requisição de arquivo estático (js/ts/css/map), não retorna HTML!
  if (/\.(js|ts|tsx|css|map)$/.test(url) || url.startsWith("/assets/") || url.startsWith("/@vite/")) {
    return next();
  }
  try {
    const page = await vite.transformIndexHtml(url, template);
    res.status(200).set({ "Content-Type": "text/html" }).end(page);
  } catch (e) {
    next(e);
  }
});
2. LIMPAR TODOS OS CACHES

Apague:

node_modules

.vite (dentro de node_modules)

dist ou qualquer build antigo

No terminal do Replit:

bash
Copiar
Editar
rm -rf node_modules .vite dist
npm install
Faça o browser e Vite hard refresh (Ctrl+Shift+R ou Cmd+Shift+R) depois do deploy.

3. REVER ORDEM DE ROTAS

Garanta que as rotas estáticas (ex: /login, /dashboard) estão antes do setup do Vite, e não colidem com as rotas SPA do React.

O middleware do Vite (setupVite) deve ficar por último, só servindo o React para rotas não atendidas acima.

4. CHECAR IMPORTS FANTASMAS

Procure no código inteiro por referências à IdleLogoutManager.tsx (inclusive comentários, imports quebrados, index.tsx, arquivos de rota).

Certifique-se que NENHUM arquivo do projeto importa/modifica/chama esse componente.

Se aparecer em dist ou .vite, limpe tudo.

RESUMO DO FLUXO DE AJUSTE
Corrigir o middleware Vite para não capturar requests de assets.

Limpar TODO o cache: node_modules, .vite, dist, browser.

Reordenar as rotas, se necessário.

Verificar e remover importações órfãs.

Rodar build e testar.

Só avance depois de garantir que está servindo JS/TS como JS, HTML como HTML.
Se continuar com erro, mostre os trechos atualizados dos middlewares, a ordem dos middlewares/rotas no server/index.ts e qualquer mensagem do build do Vite.

Me avise o que foi alterado e, se corrigiu, para eu validar o resultado!

